!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=function(){"use strict";var a=window.jQuery,b=(window.console||{log:function(){}},a(document.body).hasClass("logged-in")),c=(new Date).getTime(),d=function(b,c){this.id=b.id,this.title=b.title,this.element=b.element,this.$element=a(b.element),this.config=b,this.events=c,this.overlay=document.getElementById("stb-overlay"),this.visible=!1,this.closed=!1,this.triggered=!1,this.triggerHeight=0,this.cookieSet=!1,this.config.autoShow&&""!==this.config.trigger&&(("percentage"===this.config.trigger||"element"===this.config.trigger)&&(this.triggerHeight=this.calculateTriggerHeight(b.triggerPercentage,b.triggerElementSelector)),this.cookieSet=this.isCookieSet()),this.init()};return d.prototype.init=function(){var b=this;this.$element.find(".stb-close").click(function(){b.dismiss()}),this.$links=this.$element.find("a"),this.$forms=this.$element.find("form"),this.$links.click(function(a){b.events.trigger("box.interactions.link",[b,a.target])}),this.$forms.submit(function(a){b.setCookie(),b.events.trigger("box.interactions.form",[b,a.target])}),a('a[href="#'+this.$element.attr("id")+'"]').click(function(){return b.toggle(),!1}),this.config.autoShow&&"instant"===this.config.trigger&&!this.cookieSet?this.show():this.locationHashRefersBox()&&window.setTimeout(function(){b.show()},300)},d.prototype.setCustomBoxStyling=function(){this.element.style.overflowY="auto",this.element.style.maxHeight="none";var a=window.innerHeight,b=this.$element.outerHeight();if(b+40>a&&(this.element.style.maxHeight=a-40+"px",this.element.style.overflowY="scroll"),"center"===this.config.position){var c=(a-b)/2;20>c&&(c=20),this.element.style.marginTop=c+"px"}},d.prototype.toggle=function(b){return"undefined"==typeof b&&(b=!this.visible),this.$element.is(":animated")?!1:b===this.visible?!1:(this.visible=b,this.setCustomBoxStyling(),"center"===this.config.position&&a(this.overlay).fadeToggle("slow"),this.events.trigger("box."+(b?"show":"hide"),[this]),"fade"===this.config.animation?this.$element.fadeToggle("slow"):this.$element.slideToggle("slow"),!0)},d.prototype.show=function(){return this.toggle(!0)},d.prototype.hide=function(){return this.toggle(!1)},d.prototype.calculateTriggerHeight=function(b,c){if("element"===this.config.trigger){var d=a(c).first();return d.length>0?d.offset().top:0}return b/100*a(document).height()},d.prototype.setCookie=function(){if(this.config.cookieTime>0){var a=new Date;a.setDate(a.getDate()+this.config.cookieTime),document.cookie="stb_box_"+this.id+"=true; expires="+a.toUTCString()+"; path=/"}},d.prototype.locationHashRefersBox=function(){if(!window.location.hash||0===window.location.hash.length)return!1;var a=window.location.hash.substring(1);return a===this.element.id?!0:this.element.querySelector("#"+a)?!0:!1},d.prototype.mayAutoShow=function(){if(!this.config.autoShow)return!1;if(this.closed)return!1;if(0===this.triggerHeight)return!1;if(this.config.minimumScreenWidth>0&&window.innerWidth<this.config.minimumScreenWidth)return!1;var a=(new Date).getTime();return c+500>a?!1:!this.cookieSet},d.prototype.mayAutoHide=function(){return this.config.autoHide?this.triggered:!1},d.prototype.isCookieSet=function(){if(b&&this.config.testMode)return!1;if(0===this.config.cookieTime)return!1;var a="true"===document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*stb_box_"+this.id+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");return a},d.prototype.dismiss=function(){this.hide(),this.setCookie(),this.closed=!0,this.events.trigger("box.dismiss",[this])},d}()},{}],2:[function(a,b,c){b.exports=function(b){"use strict";function c(){b(".scroll-triggered-box").each(e),b(window).bind("scroll.stb",g),b(window).bind("resize.stb",f),b(window).bind("load",d),b(document).keyup(h),b(v).click(i),w.testMode&&console.log("Scroll Triggered Boxes: Test mode is enabled. Please disable test mode if you're done testing.")}function d(){if(m(),"object"==typeof window.mc4wpFormRequest&&"object"==typeof window.mc4wpFormRequest.element){var a=window.mc4wpFormRequest,c=b(a.element).parents(".stb");c.length&&p(parseInt(c.attr("id").substring(4)))}}function e(){var a=b(this),c=parseInt(this.id.substring(4)),d=STB_Box_Options[c];d.element=this,d.$element=a,d.testMode=w.testMode,r[d.id]=new z(d,y)}function f(){u&&clearTimeout(u),u=window.setTimeout(m,100)}function g(){t&&clearTimeout(t),t=window.setTimeout(l,100)}function h(a){27==a.keyCode&&i()}function i(){for(var a in r)r[a].visible&&r[a].dismiss()}function j(){for(var a in r)r[a].visible||r[a].show()}function k(){for(var a in r)r[a].visible&&r[a].hide()}function l(){var a=b(window).scrollTop(),c=a+.9*s;for(var d in r){var e=r[d];e.mayAutoShow()&&(c>e.triggerHeight?e.visible||(e.show(),e.triggered=!0):e.mayAutoHide()&&e.visible&&e.hide())}}function m(){s=window.innerHeight;for(var a in r){var b=r[a];b.setCustomBoxStyling()}}function n(a){"undefined"==typeof a?i():"object"==typeof r[a]&&r[a].dismiss()}function o(a){"object"==typeof r[a]&&r[a].hide()}function p(a){"object"==typeof r[a]&&r[a].show()}function q(a){"object"==typeof r[a]&&r[a].toggle()}var r={},s=window.innerHeight,t=0,u=0,v=document.getElementById("stb-overlay"),w=window.STB_Global_Options||{},x=a("./EventEmitter.js"),y=new x,z=a("./Box.js");return b(document).ready(c),{boxes:r,showBox:p,hideBox:o,toggleBox:q,showAllBoxes:j,hideAllBoxes:k,dismissAllBoxes:i,dismiss:n,events:y}}(window.jQuery)},{"./Box.js":1,"./EventEmitter.js":3}],3:[function(a,b,c){(function(){"use strict";function a(){}function c(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function d(a){return function(){return this[a].apply(this,arguments)}}var e=a.prototype,f=this,g=f.EventEmitter;e.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},e.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},e.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},e.addListener=function(a,b){var d,e=this.getListenersAsObject(a),f="object"==typeof b;for(d in e)e.hasOwnProperty(d)&&-1===c(e[d],b)&&e[d].push(f?b:{listener:b,once:!1});return this},e.on=d("addListener"),e.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},e.once=d("addOnceListener"),e.defineEvent=function(a){return this.getListeners(a),this},e.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},e.removeListener=function(a,b){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=c(f[e],b),-1!==d&&f[e].splice(d,1));return this},e.off=d("removeListener"),e.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},e.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},e.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},e.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},e.removeAllListeners=d("removeEvent"),e.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},e.trigger=d("emitEvent"),e.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},e.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},e._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},e._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return f.EventEmitter=g,a},"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof b&&b.exports?b.exports=a:f.EventEmitter=a}).call(this)},{}],4:[function(a,b,c){window.STB=a("./BoxManager.js")},{"./BoxManager.js":2}]},{},[4]);